apiVersion: actions.summerwind.dev/v1alpha1
kind: RunnerDeployment
metadata:
  name: ebpf-runners
  namespace: actions-runner-system
spec:
  replicas: 2
  template:
    spec:
      repository: rashraj/eBPF-Security-CI-CD-Agent
      labels:
        - self-hosted
        - kubernetes
---
apiVersion: actions.summerwind.dev/v1alpha1
kind: HorizontalRunnerAutoscaler
metadata:
  name: ebpf-runners-autoscaler
  namespace: actions-runner-system
spec:
  scaleTargetRef:
    name: ebpf-runners
  minReplicas: 1
  maxReplicas: 5
  metrics:
  - type: TotalNumberOfQueuedAndInProgressWorkflowRuns
    scaleUpThreshold: '1'
    scaleDownThreshold: '0'
    scaleUpFactor: '2'
    scaleDownFactor: '0.5'
